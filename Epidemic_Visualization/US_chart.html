<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>疫情可视化</title>
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="assets/materialize/css/materialize.min.css" media="screen,projection" />
    <!-- Bootstrap Styles-->
    <link href="assets/css/bootstrap.css" rel="stylesheet" />
    <!-- FontAwesome Styles-->
    <link href="assets/css/font-awesome.css" rel="stylesheet" />
    <!-- Morris Chart Styles-->
    <link href="assets/js/morris/morris-0.4.3.min.css" rel="stylesheet" />
    <!-- Custom Styles-->
    <link href="assets/css/custom-styles.css" rel="stylesheet" />
    <!-- Google Fonts-->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
    <link rel="stylesheet" href="assets/js/Lightweight-Chart/cssCharts.css"> 
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.loading.min.js"></script>
    <script src="assets/js/echarts.min.js"></script>
</head>
<body>
    <div id="wrapper">
        <nav class="navbar navbar-default top-navbar" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand waves-effect waves-dark" href="index.html"><i class="large material-icons">track_changes</i> <strong>全民战疫</strong></a>
                
                <div id="sideNav" class="waves-effect waves-dark" href=""><i class="material-icons dp48">toc</i></div>
            </div>
        </nav>
      
<nav class="navbar-default navbar-side" role="navigation">
    <div class="sidebar-collapse">
        <ul class="nav" id="main-menu">

            <li>
                <a href="index.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>全国疫情地图</a>
            </li>
            <li>
                <a href="hubei_map.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>湖北疫情地图</a>
                    </li>
            <li>
                <a href="#" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-sitemap"></i>中国疫情趋势<span class="fa arrow"></span></a>
                <ul class="nav nav-second-level collapse in">
                    <li>
                        <a href="chart.html" class="waves-effect waves-dark"style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-bar-chart-o"></i>各省疫情</a>
                    </li>
                    <li>
                        <a href="hubei.html" class="active-menu waves-effect waves-dark"style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-bar-chart-o"></i>湖北各市</a>
                    </li>                    
                    <li>
                        <a href="mytable.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-table"></i>数据概况</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="world.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>世界疫情地图</a>
            </li>
            <li>
                <a href="US_map.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>美国疫情地图</a>
            </li>
            <li>
                <a href="#" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-sitemap"></i>世界疫情趋势<span class="fa arrow"></span></a>
                <ul class="nav nav-second-level">
                    <li>
                        <a href="countries_chart.html" class="waves-effect waves-dark"style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-bar-chart-o"></i>各国疫情</a>
                    </li>
                    <li>
                        <a href="countries_data.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-table"></i>数据概况</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="empty.html" class="waves-effect waves-dark"><i class="fa fa-fw fa-file"></i> Empty Page</a>
            </li>
        </ul>

    </div>

</nav>
<!-- /. NAV SIDE  -->
<div id="page-wrapper">
    <div class="header"> 
        <h1 class="page-header">
           全国各省份疫情数据可视化
       </h1>
       <div class="divider" style=""></div>
      <!--  <ol class="breadcrumb">
      </ol> -->
</div>
 <div id="page-inner"> 
    <div class="form-inline row" >
      <label class="form-inline"style="margin-left: 15px;color: black">请选择您想要查询的城市</label>  
      <select class="form-control" id="select" style="width: 120px;margin-left: 15px">
               <option>阿拉巴马州 <option>
                <option>阿拉斯加州</option>
                <option>亚利桑那州</option>
                <option>阿肯色州</option>
                <option>加利福尼亚州</option>
                <option>科罗拉多州</option>
                <option>康涅狄格州</option>
                <option>特拉华州</option>
                <option>佛罗里达州</option>
                <option>乔治亚州（佐治亚州）</option>
                <option>夏威夷州</option>
                <option>爱达荷州</option>
                <option>伊利诺斯州</option>
                <option>印第安纳州</option>
                <option>爱荷华州（艾奥瓦州）（衣阿华州）</option>
                <option>堪萨斯州</option>
                <option>肯塔基州</option>
                <option>路易斯安那州</option>
                <option>缅因州</option>
                <option>马里兰州</option>
                <option>马萨诸塞州（麻省、麻州）</option>
                <option>密歇根州（密执安州）</option>
                <option>明尼苏达州</option>
                <option>密西西比州</option>
                <option>密苏里州</option>
                <option>蒙大拿州</option>
                <option>内布拉斯加州</option>
                <option>内华达州</option>
                <option>新罕布什尔州（新罕布夏州）</option>
                <option>新泽西州</option>
                <option>新墨西哥州</option>
                <option>纽约州  </option>
                <option>北卡罗来纳州</option>
                <option>北达科他州</option>
                <option>俄亥俄州</option>
                <option>俄克拉荷马州</option>
                <option>俄勒冈州</option>
                <option>宾夕法尼亚州</option>
                <option>罗得岛州（罗德岛州）</option>
                <option>南卡罗来纳州</option>
                <option>南达科他州</option>
                <option>田纳西州</option>
                <option>得克萨斯州</option>
                <option>犹他州</option>
                <option>佛蒙特州</option>
                <option>弗吉尼亚州</option>
                <option>华盛顿州</option>
                <option>西弗吉尼亚州</option>
                <option>威斯康辛州（威斯康星州）</option>
                <option>怀俄明州<option>
      </select>
    </div>
  <div class="row">                       
     <div class="col-md-6 col-sm-12 col-xs-12">                     
        <div class="card">
          <div class="card-header"></div>
            <div class="card-body">
               <div id="echarts1" style="width: 600px;height:450px;padding-top:20px;;margin: 0 auto"></div>
            </div> 
       </div>           
     </div>
     <div class="col-md-6 col-sm-12 col-xs-12">                     
        <div class="card">
          <div class="card-header"></div>
            <div class="card-body" style="align-self: center;">
               <div id="echarts2" style="width: 600px;height:450px;padding-top:20px;margin: 0 auto"></div>
            </div> 
       </div>           
     </div>
  </div>

 <div class="row">                       
     <div class="col-md-6 col-sm-12 col-xs-12">                     
        <div class="card">
          <div class="card-header"></div>
            <div class="card-body">
               <div id="echarts3" style="width: 600px;height:450px;padding-top:20px;;margin: 0 auto"></div>
            </div> 
       </div>           
     </div>
     <div class="col-md-6 col-sm-12 col-xs-12">                     
        <div class="card">
          <div class="card-header"></div>
            <div class="card-body" style="align-self: center;">
               <div id="echarts4" style="width: 600px;height:450px;padding-top:20px;margin: 0 auto"></div>
            </div> 
       </div>           
     </div>
  </div>

     <script type="text/javascript">  
        var val = '武汉';
        DrawEcharts1(val);
        DrawEcharts2(val);
        DrawEcharts3(val);
        DrawEcharts4(val);
        $("#select").change(function(){
        val=$(this).val();
        DrawEcharts1(val);
        DrawEcharts2(val);
        DrawEcharts3(val);
        DrawEcharts4(val);
    });
        // 指定图表的配置项和数据
        function DrawEcharts1(val){
            var myChart = echarts.init(document.getElementById('echarts1'));
            myChart.showLoading();
                $.get('https://api.inews.qq.com/newsqa/v1/query/pubished/daily/list?province=湖北&city=' + val, function (data) {
                    myChart.hideLoading();
                    var city = typeof data=='string'?JSON.parse(data):data;
                    var dates = city.data.map(function(m_data){
                        return m_data.date;
                    })
                    var confirms = city.data.map(function(m_data){
                        return m_data.confirm;
                    })
                    var confirms_add = city.data.map(function(m_data){
                        return m_data.confirm_add;
                    })
                        option = {
                            tooltip: {
                                trigger: 'axis',
                                axisPointer: {
                                    type: 'shadow',
                                    label: {
                                        show: true
                                    }
                                }
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                },
                                right:'4%'
                            },
                            calculable: true,
                            legend: {
                                data: ['累计确诊数', '新增确诊数'],
                                itemGap: 5
                            },
                            grid: {
                                top: '12%',
                                left: '1%',
                                right: '10%',
                                containLabel: true
                            },
                            xAxis: [
                                {
                                    type: 'category',
                                    data: dates
                                }
                            ],
                            yAxis: [
                                {
                                    type: 'value',
                                    name: '人数',
                                },
                                {
                                    type: 'value',
                                    name: '人数',
                                }
                            ],

                            dataZoom: [
                                {
                                    show: true,
                                    start: 0,
                                    end: 100
                                },
                                {
                                    type: 'inside',
                                    start: 50,
                                    end: 100
                                },
                                /*{
                                    show: true,
                                    yAxisIndex: 0,
                                    filterMode: 'empty',
                                    width: 30,
                                    height: '80%',
                                    showDataShadow: false,
                                    left: '93%'
                                }*/
                            ],
                            series: [
                                {
                                    name: '累计确诊数',
                                    type: 'line',
                                    data: confirms,
                                },
                                {
                                    name: '新增确诊数',
                                    type: 'bar',
                                    yAxisIndex:1,
                                    data: confirms_add,
                                    itemStyle:{
                                        normal:{
                                            color:'#FF8C00'
                                        }
                                    }
                                }
                            ]
                        };

                       myChart.setOption(option);
                });
      }
       function DrawEcharts2(val){
        // 基于准备好的dom，初始化echarts实例
            var myChart2 = echarts.init(document.getElementById('echarts2'));
            // 指定图表的配置项和数据
            myChart2.showLoading();
                $.get('https://api.inews.qq.com/newsqa/v1/query/pubished/daily/list?province=湖北&city=' + val, function (data) {
                    myChart2.hideLoading();
                    var province = typeof data=='string'?JSON.parse(data):data;
                    var dates = province.data.map(function(m_data){
                        return m_data.date;
                    })
                    var Heals = province.data.map(function(m_data){
                        return m_data.heal;
                    })
                        option = {
                            tooltip: {
                                trigger: 'axis',
                                axisPointer: {
                                    type: 'shadow',
                                    label: {
                                        show: true
                                    }
                                }
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                },
                                right:'4%'
                            },
                            calculable: true,
                            legend: {
                                data: ['累计治愈数'],
                                itemGap: 5
                            },
                            grid: {
                                top: '12%',
                                left: '1%',
                                right: '10%',
                                containLabel: true
                            },
                            xAxis: [
                                {
                                    type: 'category',
                                    data: dates
                                }
                            ],
                            yAxis: [
                                {
                                    type: 'value',
                                    name: '人数',
                                },
                            ],

                            dataZoom: [
                                {
                                    show: true,
                                    start: 0,
                                    end: 100
                                },
                                {
                                    type: 'inside',
                                    start: 50,
                                    end: 100
                                },
                                /*{
                                    show: true,
                                    yAxisIndex: 0,
                                    filterMode: 'empty',
                                    width: 30,
                                    height: '80%',
                                    showDataShadow: false,
                                    left: '93%'
                                }*/
                            ],
                            series: [
                                {
                                    name: '累计治愈数',
                                    type: 'line',
                                    data: Heals,
                                    itemStyle:{
                                        normal:{
                                            color:'#66CD00'
                                        }
                                    }
                                },
                            ]
                        };

                       myChart2.setOption(option);
                });
     }
     
      function DrawEcharts3(val){
        // 基于准备好的dom，初始化echarts实例
            var myChart3 = echarts.init(document.getElementById('echarts3'));
            // 指定图表的配置项和数据
            myChart3.showLoading();
                $.get('https://api.inews.qq.com/newsqa/v1/query/pubished/daily/list?province=湖北&city=' + val, function (data) {
                    myChart3.hideLoading();
                    var province = typeof data=='string'?JSON.parse(data):data;
                    var dates = province.data.map(function(m_data){
                        return m_data.date;
                    })
                    var deads = province.data.map(function(m_data){
                        return m_data.dead;
                    })
                        option = {
                            tooltip: {
                                trigger: 'axis',
                                axisPointer: {
                                    type: 'shadow',
                                    label: {
                                        show: true
                                    }
                                }
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                },
                                right:'4%'
                            },
                            calculable: true,
                            legend: {
                                data: ['累计死亡数'],
                                itemGap: 5
                            },
                            grid: {
                                top: '12%',
                                left: '1%',
                                right: '10%',
                                containLabel: true
                            },
                            xAxis: [
                                {
                                    type: 'category',
                                    data: dates
                                }
                            ],
                            yAxis: [
                                {
                                    type: 'value',
                                    name: '人数',
                                },
                            ],

                            dataZoom: [
                                {
                                    show: true,
                                    start: 0,
                                    end: 100
                                },
                                {
                                    type: 'inside',
                                    start: 50,
                                    end: 100
                                },
                            ],
                            series: [
                                {
                                    name: '累计死亡数',
                                    type: 'line',
                                    data: deads,
                                    itemStyle:{
                                        normal:{
                                            color:'#303030'
                                        }
                                    }
                                },
                            ]
                        };

                       myChart3.setOption(option);
                });
     }
     function DrawEcharts4(val){
        // 基于准备好的dom，初始化echarts实例
            var myChart4 = echarts.init(document.getElementById('echarts4'));
            // 指定图表的配置项和数据
            myChart4.showLoading();
                $.get('https://api.inews.qq.com/newsqa/v1/query/pubished/daily/list?province=湖北&city=' + val, function (data) {
                    myChart4.hideLoading();
                    var province = typeof data=='string'?JSON.parse(data):data;
                    var dates = province.data.map(function(m_data){
                        return m_data.date;
                    })
                    var Heal_rate = province.data.map(function(m_data){
                        return (m_data.heal/m_data.confirm).toFixed(4);;
                    })
                    var Dead_rate = province.data.map(function(m_data){
                        return (m_data.dead/m_data.confirm).toFixed(4);;
                    })
                        option = {
                            tooltip: {
                                trigger: 'axis',
                                axisPointer: {
                                    type: 'shadow',
                                    label: {
                                        show: true
                                    }
                                }
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                },
                                right:'4%'
                            },
                            calculable: true,
                            legend: {
                                data: ['治愈率', '死亡率'],
                                itemGap: 5
                            },
                            grid: {
                                top: '12%',
                                left: '1%',
                                right: '10%',
                                containLabel: true
                            },
                            xAxis: [
                                {
                                    type: 'category',
                                    data: dates
                                }
                            ],
                            yAxis: [
                                {
                                    type: 'value',
                                    name: '比率',
                                },
                                {
                                    type: 'value',
                                    name: '比率',
                                }
                            ],

                            dataZoom: [
                                {
                                    show: true,
                                    start: 0,
                                    end: 100
                                },
                                {
                                    type: 'inside',
                                    start: 50,
                                    end: 100
                                },
                                /*{
                                    show: true,
                                    yAxisIndex: 0,
                                    filterMode: 'empty',
                                    width: 30,
                                    height: '80%',
                                    showDataShadow: false,
                                    left: '93%'
                                }*/
                            ],
                            series: [
                                {
                                    name: '治愈率',
                                    type: 'line',
                                    data: Heal_rate,
                                    itemStyle:{
                                        normal:{
                                            color:'#00FA9A'
                                        }
                                    }
                                },
                                {
                                    name: '死亡率',
                                    type: 'line',
                                    data: Dead_rate,
                                    itemStyle:{
                                        normal:{
                                            color:'#191970'
                                        }
                                    }
                                }
                            ]
                        };
                       myChart4.setOption(option);
                });
        }
   </script>




<footer></footer>
</div>
<!-- /. PAGE INNER  -->
</div>
<!-- /. PAGE WRAPPER  -->
</div>
<!-- /. WRAPPER  -->
<!-- JS Scripts-->
<!-- jQuery Js -->
<script src="assets/js/jquery-1.10.2.js"></script>

<!-- Bootstrap Js -->
<script src="assets/js/bootstrap.min.js"></script>

<script src="assets/materialize/js/materialize.min.js"></script>

<!-- Metis Menu Js -->
<script src="assets/js/jquery.metisMenu.js"></script>
<!-- Morris Chart Js -->
<script src="assets/js/morris/raphael-2.1.0.min.js"></script>
<script src="assets/js/morris/morris.js"></script>



<script src="assets/js/easypiechart.js"></script>
<script src="assets/js/easypiechart-data.js"></script>

<script src="assets/js/Lightweight-Chart/jquery.chart.js"></script>

<!-- Custom Js -->
<script src="assets/js/custom-scripts.js"></script> 


</body>

</html>
