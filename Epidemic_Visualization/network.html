<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>疫情可视化</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="assets/materialize/css/materialize.min.css" media="screen,projection" />
    <!-- Bootstrap Styles-->
    <link href="assets/css/bootstrap.css" rel="stylesheet" />
    <!-- FontAwesome Styles-->
    <link href="assets/css/font-awesome.css" rel="stylesheet" />
    <!-- Morris Chart Styles-->
    <link href="assets/js/morris/morris-0.4.3.min.css" rel="stylesheet" />
    <!-- Custom Styles-->
    <link href="assets/css/custom-styles.css" rel="stylesheet" />
    <!-- Google Fonts-->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
    <link rel="stylesheet" href="assets/js/Lightweight-Chart/cssCharts.css"> 
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.loading.min.js"></script>
    <script src="assets/js/echarts.min.js"></script>
</head>
<body>
    <div id="wrapper">
        <nav class="navbar navbar-default top-navbar" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand waves-effect waves-dark" href="index.html"><i class="large material-icons">track_changes</i> <strong>全民战疫</strong></a>
                
                <div id="sideNav" class="waves-effect waves-dark" href=""><i class="material-icons dp48">toc</i></div>
            </div>
        </nav>
<nav class="navbar-default navbar-side" role="navigation">
    <div class="sidebar-collapse">
        <ul class="nav" id="main-menu">
        	<li>
        		<a href="index.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>全国疫情地图</a>
        	</li>
        	<li>
		         <a href="hubei_map.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>湖北疫情地图</a>
		    </li>
        	<li>
        		<a href="#" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-sitemap"></i>中国疫情趋势<span class="fa arrow"></span></a>
        		<ul class="nav nav-second-level collapse in">
        			<li>
        				<a href="chart.html" class="active-menu waves-effect waves-dark"style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-bar-chart-o"></i>各省疫情</a>
        			</li>
        			<li>
        				<a href="hubei.html" class="waves-effect waves-dark"style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-bar-chart-o"></i>湖北各市</a>
        			</li>                    
        			<li>
        				<a href="mytable.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-table"></i>数据概况</a>
        			</li>
        		</ul>
        	</li>
        	<li>
        		<a href="world.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>世界疫情地图</a>
        	</li>
        	<li>
        		<a href="US_map.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-dashboard"></i>美国疫情地图</a>
        	</li>
        	<li>
        		<a href="#" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-sitemap"></i>世界疫情趋势<span class="fa arrow"></span></a>
        		<ul class="nav nav-second-level">
        			<li>
        				<a href="countries_chart.html" class="waves-effect waves-dark"style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-bar-chart-o"></i>各国疫情</a>
        			</li>
        			<li>
        				<a href="countries_data.html" class="waves-effect waves-dark" style="font-size: 18px;margin-top: 6px;margin-bottom: 6px"><i class="fa fa-table"></i>数据概况</a>
        			</li>
        		</ul>
        	</li>
            <li>
                <a href="empty.html" class="waves-effect waves-dark"><i class="fa fa-fw fa-file"></i> Empty Page</a>
            </li>
        </ul>

    </div>

</nav>
<!-- /. NAV SIDE  -->
<div id="page-wrapper">
    <div class="header"> 
        <h1 class="page-header">
           湖北各地级市疫情数据可视化
       </h1>
       <div class="divider" style=""></div>
      <!--  <ol class="breadcrumb">
      </ol> -->
</div>
 <div id="page-inner"> 
 	<div class="form-inline row" >
 	  <label class="form-inline"style="margin-left: 15px;color: black">请选择您想要查询的省份</label>  
      <select class="form-control" id="select" style="width: 120px;margin-left: 15px">
      	    <option>湖北	</option>
            <option>北京	</option>
      			<option>天津	</option>
      			<option>河北	</option>
      			<option>山西	</option>
      			<option>内蒙古</option>
      			<option>辽宁	</option>
      			<option>吉林	</option>
      			<option>黑龙江</option>
      			<option>安徽	</option>
      			<option>福建	</option>
      			<option>江西	</option>
      			<option>山东	</option>
      			<option>河南	</option>
      			<option>湖南	</option>
      			<option>广东	</option>
      			<option>广西	</option>
      			<option>海南	</option>
      			<option>重庆	</option>
      			<option>四川	</option>
      			<option>贵州	</option>
      			<option>云南	</option>
      			<option>陕西	</option>
      			<option>甘肃	</option>
      			<option>青海	</option>
      			<option>宁夏	</option>
      			<option>江苏	</option>
      			<option>新疆	</option>
      			<option>上海	</option>
      			<option>浙江	</option>
      			<option>西藏	</option>
      			<option>台湾</option>
      			<option>香港	</option>
      			<option>澳门	</option>
      </select>
 	</div>
  <div class="row">                       
     <div class="col-md-6 col-sm-12 col-xs-12">                     
        <div class="card">
          <div class="card-header"></div>
            <div class="card-body">
               <div id="echarts1" style="width: 600px;height:450px;padding-top:20px;;margin: 0 auto"></div>
            </div> 
       </div>           
     </div>
     <div class="col-md-6 col-sm-12 col-xs-12">                     
        <div class="card">
          <div class="card-header"></div>
            <div class="card-body" style="align-self: center;">
               <div id="echarts2" style="width: 600px;height:450px;padding-top:20px;margin: 0 auto"></div>
            </div> 
       </div>           
     </div>
  </div>

 <div class="row">                       
     <div class="col-md-6 col-sm-12 col-xs-12">                     
        <div class="card">
          <div class="card-header"></div>
            <div class="card-body">
               <div id="echarts3" style="width: 600px;height:450px;padding-top:20px;padding-left:10px;margin: 0 auto"></div>
            </div> 
       </div>           
     </div>
     <div class="col-md-6 col-sm-12 col-xs-12">                     
        <div class="card">
          <div class="card-header"></div>
            <div class="card-body" style="align-self: center;">
               <div id="echarts4" style="width: 600px;height:450px;padding-top:20px;padding-left:10px;margin: 0 auto"></div>
            </div> 
       </div>           
     </div>
  </div>

     <script type="text/javascript">  
        var val = '湖北';
        DrawEcharts1(val);
        DrawEcharts2(val);
        DrawEcharts3(val);
        DrawEcharts4(val);
        $("#select").change(function(){
        val=$(this).val();
        DrawEcharts1(val);
        DrawEcharts2(val);
        DrawEcharts3(val);
        DrawEcharts4(val);
    });
        // 指定图表的配置项和数据
        function DrawEcharts1(val){
        	var myChart = echarts.init(document.getElementById('echarts1'));
	        myChart.showLoading();
	            $.get('https://api.inews.qq.com/newsqa/v1/query/pubished/daily/list?province=' + val, function (data) {
	                myChart.hideLoading();
	                var province = typeof data=='string'?JSON.parse(data):data;
                  console.log(province);
	                var dates = province.data.map(function(m_data){
	                    return m_data.date;
	                })
	                var confirms = province.data.map(function(m_data){
	                    return m_data.confirm;
	                })
	                var confirms_add = province.data.map(function(m_data){
	                    return m_data.newConfirm;
	                })
	                    option = {
	                        tooltip: {
	                            trigger: 'axis',
	                            axisPointer: {
	                                type: 'shadow',
	                                label: {
	                                    show: true
	                                }
	                            }
	                        },
	                        toolbox: {
	                            show: true,
	                            feature: {
	                                restore: {show: true},
	                                saveAsImage: {show: true}
	                            },
	                            right:'4%'
	                        },
	                        calculable: true,
	                        legend: {
	                            data: ['累计确诊数', '新增确诊数'],
	                            itemGap: 5
	                        },
	                        grid: {
	                            top: '12%',
	                            left: '1%',
	                            right: '10%',
	                            containLabel: true
	                        },
	                        xAxis: [
	                            {
	                                type: 'category',
	                                data: dates
	                            }
	                        ],
	                        yAxis: [
	                            {
	                                type: 'value',
	                                name: '人数',
	                            },
	                            {
	                                type: 'value',
	                                name: '人数',
	                            }
	                        ],

	                        dataZoom: [
	                            {
	                                show: true,
	                                start: 0,
	                                end: 100
	                            },
	                            {
	                                type: 'inside',
	                                start: 50,
	                                end: 100
	                            },
	                            /*{
	                                show: true,
	                                yAxisIndex: 0,
	                                filterMode: 'empty',
	                                width: 30,
	                                height: '80%',
	                                showDataShadow: false,
	                                left: '93%'
	                            }*/
	                        ],
	                        series: [
	                            {
	                                name: '累计确诊数',
	                                type: 'line',
	                                data: confirms,
	                            },
	                            {
	                                name: '新增确诊数',
	                                type: 'bar',
	                                yAxisIndex:1,
	                                data: confirms_add,
	                                itemStyle:{
	                                    normal:{
	                                        color:'#FF8C00'
	                                    }
	                                }
	                            }
	                        ]
	                    };

	                   myChart.setOption(option);
	            });
      }
       function DrawEcharts2(val){
        // 基于准备好的dom，初始化echarts实例
	        var myChart2 = echarts.init(document.getElementById('echarts2'));
	        // 指定图表的配置项和数据
	        myChart2.showLoading();
	            $.get('https://api.inews.qq.com/newsqa/v1/query/pubished/daily/list?province='+ val, function (data) {
	                myChart2.hideLoading();
	                var province = typeof data=='string'?JSON.parse(data):data;
	                var dates = province.data.map(function(m_data){
	                    return m_data.date;
	                })
	                var Heals = province.data.map(function(m_data){
	                    return m_data.heal;
	                })
	                var Heals_add = province.data.map(function(m_data){
	                    return m_data.newHeal;
	                })
	                    option = {
	                        tooltip: {
	                            trigger: 'axis',
	                            axisPointer: {
	                                type: 'shadow',
	                                label: {
	                                    show: true
	                                }
	                            }
	                        },
	                        toolbox: {
	                            show: true,
	                            feature: {
	                                restore: {show: true},
	                                saveAsImage: {show: true}
	                            },
	                            right:'4%'
	                        },
	                        calculable: true,
	                        legend: {
	                            data: ['累计治愈数', '新增治愈数'],
	                            itemGap: 5
	                        },
	                        grid: {
	                            top: '12%',
	                            left: '1%',
	                            right: '10%',
	                            containLabel: true
	                        },
	                        xAxis: [
	                            {
	                                type: 'category',
	                                data: dates
	                            }
	                        ],
	                        yAxis: [
	                            {
	                                type: 'value',
	                                name: '人数',
	                            },
	                            {
	                                type: 'value',
	                                name: '人数',
	                            }
	                        ],

	                        dataZoom: [
	                            {
	                                show: true,
	                                start: 0,
	                                end: 100
	                            },
	                            {
	                                type: 'inside',
	                                start: 50,
	                                end: 100
	                            },
	                            /*{
	                                show: true,
	                                yAxisIndex: 0,
	                                filterMode: 'empty',
	                                width: 30,
	                                height: '80%',
	                                showDataShadow: false,
	                                left: '93%'
	                            }*/
	                        ],
	                        series: [
	                            {
	                                name: '累计治愈数',
	                                type: 'line',
	                                data: Heals,
	                                itemStyle:{
	                                    normal:{
	                                        color:'#66CD00'
	                                    }
	                                }
	                            },
	                            {
	                                name: '新增治愈数',
	                                type: 'bar',
	                                yAxisIndex:1,
	                                data: Heals_add,
	                                itemStyle:{
	                                    normal:{
	                                        color:'#54FF9F'
	                                    }
	                                }
	                            }
	                        ]
	                    };

	                   myChart2.setOption(option);
	            });
     }
      function DrawEcharts3(val){
        // 基于准备好的dom，初始化echarts实例
	        var n_days = ['1.20','1.30','2.10','2.20','2.29','3.10','3.20','3.30','4.10','4.20','4.30','5.10',]
        var countries = ['USA','CHN','GBR','RUS','IND','\n','ISR','IRN','AUS','DEU','EUR'];
            node_rank = [[1,1,1,1,1,1,1,1,1,1,1,1],
						  [3,2,2,2,4,3,2,2,2,2,2,2],
						  [2,3,3,3,9,4,3,3,3,3,3,3],
						  [5,4,4,5,5,10,4,4,4,4,4],
						  [37,34,36,25,26,38,24,24,24,26,33,5],
						  [12,4,5,7,20,14,19,13,14,12,7,6],
						  [4,13,13,11,7,8,5,12,13,11,11,7],
						  [16,10,9,8,16,12,9,7,9,5,6,8],
						  [8,12,16,6,17,11,12,11,5,6,5,9],
						  [12,8,12,14,11,9,8,9,6,8,8,10]
						]
	        var myChart3 = echarts.init(document.getElementById('echarts3'));
	        // 指定图表的配置项和数据
	        var option = {
                            tooltip: {
                                trigger: 'axis',
                                axisPointer: {
                                    type: 'shadow',
                                    label: {
                                        show: true
                                    }
                                }
                            },
							/*title: {
							    left:'center',
								bottom: '93%',
								text: '湖北疫情模拟'
							},*/
                            toolbox: {
                                show: true,
                                feature: {
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                },
                                right:'4%'
                            },
                            calculable: true,
                            legend: {
                            		data: countries
                            },
                            grid: {
                                top: '12%',
                                left: '5%',
                                right: '10%',
                                containLabel: true
                            },
                            xAxis: [
                                {
                                    type: 'category',
                                    data: n_days,
                                    axisLine:{ // 隐藏X轴
					                show: false
						            },
						            axisTick:{ // 隐藏刻度线
						                show: false
						            },
                                }
                            ],
                            yAxis: [
                                {
                                    type: 'value',
                                    name: '排名',
                                    inverse: true,
                                    nameLocation:'center',
                                    nameGap:30,
                                },
                                
                            ],

                            series: [
                                {
                                    name: 'USA',
                                    type: 'line',
                                    data: node_rank[0],
                                },
								 {
                                    name: 'CHN',
                                    type: 'line',
                                    data: node_rank[1],
                                },
                                {
                                    name: 'GBR',
                                    type: 'line',
                                    data: node_rank[2],
                                },
                                 {
                                    name: 'RUS',
                                    type: 'line',
                                    data: node_rank[3],
                                },
                                 {
                                    name: 'IND',
                                    type: 'line',
                                    data: node_rank[4],
                                },
                                 {
                                    name: 'ISR',
                                    type: 'line',
                                    data: node_rank[5],
                                },
                                 {
                                    name: 'IRN',
                                    type: 'line',
                                    data: node_rank[6],
                                },
                                 {
                                    name: 'AUS',
                                    type: 'line',
                                    data: node_rank[7],
                                },
                                {
                                    name: 'DEU',
                                    type: 'line',
                                    data: node_rank[8],
                                },
                                {
                                    name: 'EUR',
                                    type: 'line',
                                    data: node_rank[9],
                                },

                            ]
                        };

                       myChart3.setOption(option);
        }
     
      function DrawEcharts4(val){
        // 基于准备好的dom，初始化echarts实例
        var n_days = ['1.20','1.30','2.10','2.20','2.29','3.10','3.20','3.30','4.10','4.20','4.30','5.10',]
        var countries = ['USA-CHN','USA-RUS','USA-GBR','USA-IRN','ISR-PSE','\n','CHN-AUS','USA-IRL','USA-DEU','USA-AUS','USA-AFG'];
            node_rank = [[1,2,1,1,1,3,1,1,1,1,1,1,1],
							[16,17,14,10,3,17,7,14,6,3,5,3,4,2],
							[1,2,4,2,2,10,2,5,2,2,2,2,3],
							[3,13,11,17,18,13,3,17,16,14,13,4],
							[14,2,4,6,26,9,13,4,9,3,6,5],
							[154,155,11,22,16,87,88,89,90,54,31,32,43,44,55,56,57,10,3,4,6],
							[57,87,88,32,33,34,35,48,28,29,56,39,42,43,39,5,7],
							[30,33,34,8,27,34,35,36,24,12,19,20,7,8],
							[20,24,25,20,15,29,26,11,9,14,7,9,10,9],
							[45,46,51,25,18,1,6,25,13,19,20,25,20,10,11],
						]
	        var myChart4 = echarts.init(document.getElementById('echarts4'));
	        // 指定图表的配置项和数据
	        var option = {
                            tooltip: {
                                trigger: 'axis',
                                axisPointer: {
                                    type: 'shadow',
                                    label: {
                                        show: true
                                    }
                                }
                            },
							/*title: {
							    left:'center',
								bottom: '93%',
								text: '湖北疫情模拟'
							},*/
                            toolbox: {
                                show: true,
                                feature: {
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                },
                                right:'4%'
                            },
                            calculable: true,
                            legend: {
                            		data: countries
                            },
                            grid: {
                                top: '12%',
                                left: '5%',
                                right: '10%',
                                containLabel: true
                            },
                            xAxis: [
                                {
                                    type: 'category',
                                    data: n_days,
                                    axisLine:{ // 隐藏X轴
					                show: false
						            },
						            axisTick:{ // 隐藏刻度线
						                show: false
						            },
                                }
                            ],
                            yAxis: [
                                {
                                    type: 'value',
                                    name: '排名',
                                    inverse: true,
                                    nameLocation:'center',
                                    nameGap:30,
                                 },
                                
                            ],

                            series: [
                                {
                                    name: 'USA-CHN',
                                    type: 'line',
                                    data: node_rank[0],
                                },
								 {
                                    name: 'USA-RUS',
                                    type: 'line',
                                    data: node_rank[1],
                                },
                                {
                                    name: 'USA-GBR',
                                    type: 'line',
                                    data: node_rank[2],
                                },
                                 {
                                    name: 'USA-IRN',
                                    type: 'line',
                                    data: node_rank[3],
                                },
                                 {
                                    name: 'ISR-PSE',
                                    type: 'line',
                                    data: node_rank[4],
                                },
                                 {
                                    name: 'CHN-AUS',
                                    type: 'line',
                                    data: node_rank[5],
                                },
                                 {
                                    name: 'USA-IRL',
                                    type: 'line',
                                    data: node_rank[6],
                                },
                                 {
                                    name: 'USA-DEU',
                                    type: 'line',
                                    data: node_rank[7],
                                },
                                {
                                    name: 'USA-AUS',
                                    type: 'line',
                                    data: node_rank[8],
                                },
                                {
                                    name: 'USA-AFG',
                                    type: 'line',
                                    data: node_rank[9],
                                },

                            ]
                        };

                       myChart4.setOption(option);
     }
    
   </script>




<footer></footer>
</div>
<!-- /. PAGE INNER  -->
</div>
<!-- /. PAGE WRAPPER  -->
</div>
<!-- /. WRAPPER  -->
<!-- JS Scripts-->
<!-- jQuery Js -->
<script src="assets/js/jquery-1.10.2.js"></script>

<!-- Bootstrap Js -->
<script src="assets/js/bootstrap.min.js"></script>

<script src="assets/materialize/js/materialize.min.js"></script>

<!-- Metis Menu Js -->
<script src="assets/js/jquery.metisMenu.js"></script>
<!-- Morris Chart Js -->
<script src="assets/js/morris/raphael-2.1.0.min.js"></script>
<script src="assets/js/morris/morris.js"></script>
<script src="assets/js/easypiechart.js"></script>
<script src="assets/js/easypiechart-data.js"></script>
<script src="assets/js/Lightweight-Chart/jquery.chart.js"></script>

<!-- Custom Js -->
<script src="assets/js/custom-scripts.js"></script> 


</body>

</html>
